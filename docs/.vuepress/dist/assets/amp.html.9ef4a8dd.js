import{_ as p,r as o,o as c,c as l,b as a,d as n,e as t,a as e}from"./app.1ad2624e.js";const u={},i=a("h1",{id:"next-amp",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#next-amp","aria-hidden":"true"},"#"),n(" next/amp")],-1),r={class:"custom-container details"},k=a("summary",null,"示例",-1),d={href:"https://github.com/vercel/next.js/tree/canary/examples/amp",target:"_blank",rel:"noopener noreferrer"},h=e(`<blockquote><p>AMP support is one of our advanced features, you can<a href="/docs/guide/advanced-features/amp-support/introduction">read more about AMP here</a>.</p></blockquote><p>To enable AMP, add the following config to your page:</p><div class="language-jsx" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">amp</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>

</code></pre></div><p>The<code>amp</code>config accepts the following values:</p><ul><li><code>true</code>- The page will be AMP-only- <code>&#39;hybrid&#39;</code>- The page will have two versions, one with AMP and another one with HTML</li></ul><p>To learn more about the<code>amp</code>config, read the sections below.</p><h2 id="amp-first-page" tabindex="-1"><a class="header-anchor" href="#amp-first-page" aria-hidden="true">#</a> AMP First Page</h2><p>Take a look at the following example:</p><div class="language-jsx" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">amp</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">About</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">My AMP About Page!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> About

</code></pre></div><p>The page above is an AMP-only page, which means:</p>`,10),g={href:"https://github.com/ampproject/amp-toolbox/tree/master/packages/optimizer",target:"_blank",rel:"noopener noreferrer"},m=e(`<h2 id="hybrid-amp-page" tabindex="-1"><a class="header-anchor" href="#hybrid-amp-page" aria-hidden="true">#</a> Hybrid AMP Page</h2><p>Take a look at the following example:</p><div class="language-jsx" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useAmp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;next/amp&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">amp</span><span class="token operator">:</span> <span class="token string">&#39;hybrid&#39;</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">About</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isAmp <span class="token operator">=</span> <span class="token function">useAmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">My AMP About Page!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>isAmp <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>amp-img</span>
          <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/my-img.jpg<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a cool image<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>responsive<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/my-img.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a cool image<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> About

</code></pre></div><p>The page above is a hybrid AMP page, which means:</p><ul><li>The page is rendered as traditional HTML (default) and AMP HTML (by adding<code>?amp=1</code>to the URL)- The AMP version of the page only has valid optimizations applied with AMP Optimizer so that it is indexable by search-engines</li></ul>`,5),f=a("code",null,"useAmp",-1),y={href:"https://reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"},x=a("code",null,"true",-1),b=a("code",null,"false",-1);function _(w,v){const s=o("ExternalLinkIcon");return c(),l("div",null,[i,a("details",r,[k,a("ul",null,[a("li",null,[a("a",d,[n("AMP"),t(s)])])])]),h,a("ul",null,[a("li",null,[n("The page has no Next.js or React client-side runtime- The page is automatically optimized with"),a("a",g,[n("AMP Optimizer"),t(s)]),n(", an optimizer that applies the same transformations as AMP caches (improves performance by up to 42%)- The page has a user-accessible (optimized) version of the page and a search-engine indexable (unoptimized) version of the page")])]),m,a("p",null,[n("The page uses"),f,n("to differentiate between modes, it's a"),a("a",y,[n("React Hook"),t(s)]),n("that returns"),x,n("if the page is using AMP, and"),b,n("otherwise.")])])}const A=p(u,[["render",_],["__file","amp.html.vue"]]);export{A as default};
