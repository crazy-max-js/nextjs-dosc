import{_ as a,o as s,c as n,a as e}from"./app.1ad2624e.js";const t={},o=e(`<h1 id="url-imports" tabindex="-1"><a class="header-anchor" href="#url-imports" aria-hidden="true">#</a> URL Imports</h1><p>URL imports are an experimental feature that allows you to import modules directly from external servers (instead of from the local disk).</p><blockquote><p><strong>Warning</strong>: This feature is experimental. Only use domains that you trust to download and execute on your machine. Please exercise discretion, and caution until the feature is flagged as stable.</p></blockquote><p>To opt-in, add the allowed URL prefixes inside<code>next.config.js</code>:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">experimental</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">urlImports</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;https://example.com/modules/&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Then, you can import modules directly from URLs:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;https://example.com/modules/some/module.js&#39;</span>

</code></pre></div><p>URL Imports can be used everywhere normal package imports can be used.</p><h2 id="security-model" tabindex="-1"><a class="header-anchor" href="#security-model" aria-hidden="true">#</a> Security Model</h2><p>This feature is being designed with<strong>security as the top priority</strong>. To start, we added an experimental flag forcing you to explicitly allow the domains you accept URL imports from. We&#39;re working to take this further by limiting URL imports to execute in the browser sandbox using the<a href="/docs/guide/api-reference/edge-runtime">Edge Runtime</a>.</p><h2 id="lockfile" tabindex="-1"><a class="header-anchor" href="#lockfile" aria-hidden="true">#</a> Lockfile</h2><p>When using URL imports, Next.js will create a lockfile in the<code>next.lock</code>directory. This directory is intended to be committed to Git and should<strong>not be included</strong>in your<code>.gitignore</code>file.</p><ul><li>When running<code>next dev</code>, Next.js will download and add all newly discovered URL Imports to your lockfile- When running<code>next build</code>, Next.js will use only the lockfile to build the application for production</li></ul><p>Typically, no network requests are needed and any outdated lockfile will cause the build to fail. One exception is resources that respond with<code>Cache-Control: no-cache</code>. These resources will have a<code>no-cache</code>entry in the lockfile and will always be fetched from the network on each build.</p><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples" aria-hidden="true">#</a> Examples</h2><h3 id="skypack" tabindex="-1"><a class="header-anchor" href="#skypack" aria-hidden="true">#</a> Skypack</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> confetti <span class="token keyword">from</span> <span class="token string">&#39;https://cdn.skypack.dev/canvas-confetti&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">confetti</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Hello<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="static-image-imports" tabindex="-1"><a class="header-anchor" href="#static-image-imports" aria-hidden="true">#</a> Static Image Imports</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">&#39;next/image&#39;</span>
<span class="token keyword">import</span> logo <span class="token keyword">from</span> <span class="token string">&#39;https://github.com/vercel/next.js/raw/canary/test/integration/production/public/vercel.png&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Image src<span class="token operator">=</span><span class="token punctuation">{</span>logo<span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">&quot;blur&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

</code></pre></div><h3 id="urls-in-css" tabindex="-1"><a class="header-anchor" href="#urls-in-css" aria-hidden="true">#</a> URLs in CSS</h3><div class="language-css" data-ext="css"><pre class="language-css"><code><span class="token selector">.className</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#39;https://github.com/vercel/next.js/raw/canary/test/integration/production/public/vercel.png&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="asset-imports" tabindex="-1"><a class="header-anchor" href="#asset-imports" aria-hidden="true">#</a> Asset Imports</h3><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">&#39;next/image&#39;</span>

<span class="token keyword">const</span> logo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>
  <span class="token string">&#39;https://github.com/vercel/next.js/raw/canary/test/integration/production/public/vercel.png&#39;</span><span class="token punctuation">,</span>
  <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>logo<span class="token punctuation">.</span>pathname<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

</code></pre></div>`,23),p=[o];function c(r,l){return s(),n("div",null,p)}const u=a(t,[["render",c],["__file","url-imports.html.vue"]]);export{u as default};
