import{_ as s,r as c,o as i,c as p,b as e,d as t,e as o,a as n}from"./app.1ad2624e.js";const r={},d=e("h1",{id:"custom-app",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#custom-app","aria-hidden":"true"},"#"),t(" Custom App")],-1),l=e("strong",null,"Note",-1),u=e("code",null,"app/",-1),h=e("code",null,"app/",-1),g={href:"https://beta.nextjs.org/docs/data-fetching/fundamentals",target:"_blank",rel:"noopener noreferrer"},f={href:"https://beta.nextjs.org/docs/upgrade-guide",target:"_blank",rel:"noopener noreferrer"},_=e("code",null,"app/",-1),m=n(`<p>Next.js uses the<code>App</code>component to initialize pages. You can override it and control the page initialization and:</p><ul><li>Persist layouts between page changes- Keeping state when navigating pages- Custom error handling using<code>componentDidCatch</code>- Inject additional data into pages- <a href="/docs/guide/basic-features/built-in-css-support#adding-a-global-stylesheet">Add global CSS</a></li></ul><p>To override the default<code>App</code>, create the file<code>./pages/_app.js</code>as shown below:</p><div class="language-jsx" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> Component<span class="token punctuation">,</span> pageProps <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>pageProps<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token punctuation">}</span>

</code></pre></div><p>The<code>Component</code>prop is the active<code>page</code>, so whenever you navigate between routes,<code>Component</code>will change to the new<code>page</code>. Therefore, any props you send to<code>Component</code>will be received by the<code>page</code>.</p><p><code>pageProps</code>is an object with the initial props that were preloaded for your page by one of our<a href="/docs/guide/basic-features/data-fetching/overview">data fetching methods</a>, otherwise it&#39;s an empty object.</p><p>The<code>App.getInitialProps</code>receives a single argument called<code>context.ctx</code>. It&#39;s an object with the same set of properties as the<a href="/docs/guide/api-reference/data-fetching/get-initial-props#context-object"><code>context</code>object</a>in<code>getInitialProps</code>.</p><h3 id="caveats" tabindex="-1"><a class="header-anchor" href="#caveats" aria-hidden="true">#</a> Caveats</h3>`,8),y=e("code",null,"App",-1),b=e("code",null,"pages/_app.js",-1),k=e("a",{href:"/docs/guide/api-reference/data-fetching/get-initial-props"},[e("code",null,"getInitialProps")],-1),x=e("code",null,"App",-1),v=e("a",{href:"/docs/guide/advanced-features/automatic-static-optimization"},"Automatic Static Optimization",-1),w=e("a",{href:"/docs/guide/basic-features/data-fetching/get-static-props"},"Static Generation",-1),j=e("code",null,"getInitialProps",-1),A=e("code",null,'import App from "next/app"',-1),I=e("code",null,"App.getInitialProps(appContext)",-1),C=e("code",null,"getInitialProps",-1),P=e("code",null,"App",-1),S=e("a",{href:"/docs/guide/basic-features/data-fetching/overview"},"Data Fetching methods",-1),T=e("a",{href:"/docs/guide/basic-features/data-fetching/get-static-props"},[e("code",null,"getStaticProps")],-1),N=e("a",{href:"/docs/guide/basic-features/data-fetching/get-server-side-props"},[e("code",null,"getServerSideProps")],-1),z={href:"https://beta.nextjs.org/docs/upgrade-guide",target:"_blank",rel:"noopener noreferrer"},V=e("code",null,"app/",-1),B=n('<h3 id="typescript" tabindex="-1"><a class="header-anchor" href="#typescript" aria-hidden="true">#</a> TypeScript</h3><p>If youâ€™re using TypeScript, take a look at<a href="/docs/guide/basic-features/typescript#custom-app">our TypeScript documentation</a>.</p><h2 id="related" tabindex="-1"><a class="header-anchor" href="#related" aria-hidden="true">#</a> Related</h2><p>For more information on what to do next, we recommend the following sections:</p>',4);function E(L,q){const a=c("ExternalLinkIcon");return i(),p("div",null,[d,e("blockquote",null,[e("p",null,[l,t(": Next.js 13 introduces the"),u,t("directory (beta). This new directory has support for layouts, nested routes, and uses Server Components by default. Inside"),h,t(", you can fetch data for your entire application inside layouts, including support for more granular nested layouts (with"),e("a",g,[t("colocated data fetching"),o(a)]),t(")."),e("a",f,[t("Learn more about incrementally adopting"),_,o(a)]),t(".")])]),m,e("ul",null,[e("li",null,[t("If your app is running and you added a custom"),y,t(", you'll need to restart the development server. Only required if"),b,t("didn't exist before.- Adding a custom"),k,t("in your"),x,t("will disable"),v,t("in pages without"),w,t(".- When you add"),j,t("in your custom app, you must"),A,t(", call"),I,t("inside"),C,t("and merge the returned object into the return value.- "),P,t("does not support Next.js"),S,t("like"),T,t("or"),N,t(". If you need global data fetching, consider"),e("a",z,[t("incrementally adopting the"),V,t("directory"),o(a)]),t(".")])]),B])}const F=s(r,[["render",E],["__file","custom-app.html.vue"]]);export{F as default};
