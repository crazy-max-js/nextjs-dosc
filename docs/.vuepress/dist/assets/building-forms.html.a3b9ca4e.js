import{_ as o,r as p,o as c,c as l,b as n,d as a,e as t,a as e}from"./app.1ad2624e.js";const r={},u=e(`<h1 id="building-forms-with-next-js" tabindex="-1"><a class="header-anchor" href="#building-forms-with-next-js" aria-hidden="true">#</a> Building Forms with Next.js</h1><p>A web form has a<strong>client-server</strong>relationship. They are used to send data handled by a web server for processing and storage. The form itself is the client, and the server is any storage mechanism that can be used to store, retrieve and send data when needed.</p><p>This guide will teach you how to create a web form with Next.js.</p><h2 id="part-1-html-form" tabindex="-1"><a class="header-anchor" href="#part-1-html-form" aria-hidden="true">#</a> Part 1: HTML Form</h2><p>HTML forms are built using the<code>&lt;form&gt;</code>tag. It takes a set of attributes and fields to structure the form for features like text fields, checkboxes, dropdown menus, buttons, radio buttons, etc.</p><p>Here&#39;s the syntax of a HTML form:</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- Basic HTML Form --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/send-data-here<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>The front-end looks like this:</p><p>The HTML<code>&lt;form&gt;</code>tag acts as a container for different<code>&lt;input&gt;</code>elements like<code>text</code>field and submit<code>button</code>. Let&#39;s study each of these elements:</p>`,9),i=n("code",null,"action",-1),k=n("code",null,"method",-1),d={href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"GET",-1),h=n("code",null,"POST",-1),g=n("code",null,"<label>",-1),f=n("code",null,"<input>",-1),b=n("code",null,"type",-1),q=n("code",null,"text",-1),v=n("code",null,"checkbox",-1),y=n("code",null,"email",-1),w=n("code",null,"radio",-1),x=n("code",null,"<button>",-1),S=e(`<h3 id="form-validation" tabindex="-1"><a class="header-anchor" href="#form-validation" aria-hidden="true">#</a> Form Validation</h3><p>A process that checks if the information provided by a user is correct or not. Form validation also ensures that the provided information is in the correct format (e.g. there&#39;s an @ in the email field). These are of two types:</p><ul><li><strong>Client-side</strong>: Validation is done in the browser- <strong>Server-side</strong>: Validation is done on the server</li></ul><p>Though both of these types are equally important, this guide will focus on client-side validation only.</p><p>Client-side validation is further categorized as:</p><ul><li><strong>Built-in</strong>: Uses HTML-based attributes like<code>required</code>,<code>type</code>,<code>minLength</code>,<code>maxLength</code>,<code>pattern</code>, etc.- <strong>JavaScript-based</strong>: Validation that&#39;s coded with JavaScript.</li></ul><h3 id="built-in-form-validation-using-required-type-minlength-maxlength" tabindex="-1"><a class="header-anchor" href="#built-in-form-validation-using-required-type-minlength-maxlength" aria-hidden="true">#</a> Built-in Form Validation Using required, type, minLength, maxLength</h3><ul><li><code>required</code>: Specifies which fields must be filled before submitting the form.- <code>type</code>: Specifies the data&#39;s type (i.e a number, email address, string, etc).- <code>minLength</code>: Specifies minimum length for the text data string.- <code>maxLength</code>: Specifies maximum length for the text data string.</li></ul><p>So, a form using this attributes may look like:</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- HTML Form with Built-in Validation --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/send-data-here<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roll<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Roll Number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roll<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roll<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">required</span>
    <span class="token attr-name">minlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>With these validation checks in place, when a user tries to submit an empty field for Name, it gives an error that pops right in the form field. Similarly, a roll number can only be entered if it&#39;s 10-20 characters long.</p><h3 id="javascript-based-form-validation" tabindex="-1"><a class="header-anchor" href="#javascript-based-form-validation" aria-hidden="true">#</a> JavaScript-based Form Validation</h3><p>Form Validation is important to ensure that a user has submitted the correct data, in a correct format. JavaScript offers an additional level of validation along with HTML native form attributes on the client side. Developers generally prefer validating form data through JavaScript because its data processing is faster when compared to server-side validation, however front-end validation may be less secure in some scenarios as a malicious user could always send malformed data to your server.</p><p>The following example shows using JavaScript to validate a form:</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token special-attr"><span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">validateFormWithJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rollNumber<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Roll Number:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rollNumber<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rollNumber<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">validateFormWithJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value
    <span class="token keyword">const</span> rollNumber <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#rollNumber&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;Please enter your name.&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>rollNumber<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;Roll Number should be at least 3 digits long.&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div>`,15),_={href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script",target:"_blank",rel:"noopener noreferrer"},j=n("code",null,"src",-1),T=n("code",null,"validateFormWithJS()",-1),N=e(`<h4 id="form-validation-using-regular-expressions" tabindex="-1"><a class="header-anchor" href="#form-validation-using-regular-expressions" aria-hidden="true">#</a> Form Validation Using Regular Expressions</h4><p>JavaScript validation with Regular Expressions uses the<code>pattern</code>HTML attribute. A regular expression (commonly known as RegEx) is an object that describes a pattern of characters. You can only apply the<code>pattern</code>attribute to the<code>&lt;input&gt;</code>element. This way, you can validate the input value using Regular Expressions (RegEx) by defining your own rules. Once again, if the value does not match the defined pattern, the input will give an error. The below example shows using the<code>pattern</code>attribute on an<code>input</code>element:</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/action_page.php<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pswrd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pswrd<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pswrd<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[a-z0-9]{1,15}<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Password should be digits (0 to 9) or alphabets (a to z).<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>The password form field must only contain digits (0 to 9), lowercase alphabets (a to z) and it must be no more than 15 characters in length. No other characters (#,$,&amp;, etc.) are allowed. The rule in RegEx is written as<code>[a-z0-9]{1,15}</code>.</p>`,4),F={href:"https://developer.mozilla.org/en-US/docs/Learn/Forms",target:"_blank",rel:"noopener noreferrer"},J=e(`<h2 id="part-2-project-setup" tabindex="-1"><a class="header-anchor" href="#part-2-project-setup" aria-hidden="true">#</a> Part 2: Project Setup</h2><p>In the following section you will be creating forms in React using Next.js.</p><p>Create a new Next.js app. You can use the<a href="/docs/getting-started#setup">create-next-app</a>for a quick start. In your command line terminal, run the following:</p><div class="language-text" data-ext="text"><pre class="language-text"><code>npx create-next-app

</code></pre></div>`,4),P={href:"https://github.com/vercel/next.js/tree/canary/examples/next-forms",target:"_blank",rel:"noopener noreferrer"},L=n("code",null,"next-forms",-1),I=n("code",null,"cd",-1),R=n("code",null,"npm run dev",-1),H=n("code",null,"yarn dev",-1),A=e(`<p>Open the URL printed in the terminal to ensure that your app is running successfully.</p><h2 id="part-3-setting-up-a-next-js-form-api-route" tabindex="-1"><a class="header-anchor" href="#part-3-setting-up-a-next-js-form-api-route" aria-hidden="true">#</a> Part 3: Setting up a Next.js Form API Route</h2><p>Both the client and the server will be built using Next.js. For the server part, create an API endpoint where you will send the form data.</p><p>Next.js offers a file-based system for routing that&#39;s built on the<a href="/docs/guide/basic-features/pages">concept of pages</a>. Any file inside the folder<code>pages/api</code>is mapped to<code>/api/*</code>and will be treated as an API endpoint instead of a page. This<a href="/docs/guide/api-routes/introduction">API endpoint</a>is going to be server-side only.</p><p>Go to<code>pages/api</code>, create a file called<code>form.js</code>and paste this code written in Node.js:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Get data submitted in request&#39;s body.</span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> req<span class="token punctuation">.</span>body

  <span class="token comment">// Optional logging to see the responses</span>
  <span class="token comment">// in the command line where next.js app is running.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;body: &#39;</span><span class="token punctuation">,</span> body<span class="token punctuation">)</span>

  <span class="token comment">// Guard clause checks for first and last name,</span>
  <span class="token comment">// and returns early if they are not found</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>body<span class="token punctuation">.</span>first <span class="token operator">||</span> <span class="token operator">!</span>body<span class="token punctuation">.</span>last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Sends a HTTP bad request error code</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&#39;First or last name not found&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Found the name.</span>
  <span class="token comment">// Sends a HTTP success code</span>
  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>body<span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>body<span class="token punctuation">.</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>This form<code>handler</code>function will receive the request<code>req</code>from the client (i.e. submitted form data). And in return, it&#39;ll send a response<code>res</code>as JSON that will have both the first and the last name. You can access this API endpoint at<code>http://localhost:3000/api/form</code>or replace the localhost URL with an actual Vercel deployment when you deploy.</p><blockquote><p>Moreover, you can also attach this API to a database like MongoDB or Google Sheets. This way, your submitted form data will be securely stored for later use. For this guide, no database is used. Instead, the same data is returned to the user to demo how it&#39;s done.</p></blockquote><h3 id="form-submission-without-javascript" tabindex="-1"><a class="header-anchor" href="#form-submission-without-javascript" aria-hidden="true">#</a> Form Submission without JavaScript</h3><p>You can now use<code>/api/form</code>relative endpoint inside the<code>action</code>attribute of the form. You are sending form data to the server when the form is submitted via<code>POST</code>HTTP method (which is used to send data).</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/api/form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>First name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Last name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>If you submit this form, it will submit the data to the forms API endpoint<code>/api/form</code>. The server then responds, generally handling the data and loading the URL defined by the action attribute, causing a new page load. So in this case you&#39;ll be redirected to<code>http://localhost:3000/api/form</code>with the following response from the server.</p><h2 id="part-4-configuring-forms-in-next-js" tabindex="-1"><a class="header-anchor" href="#part-4-configuring-forms-in-next-js" aria-hidden="true">#</a> Part 4: Configuring Forms in Next.js</h2>`,13),O={href:"https://reactjs.org/docs/introducing-jsx.html",target:"_blank",rel:"noopener noreferrer"},M={href:"https://reactjs.org/docs/components-and-props.html",target:"_blank",rel:"noopener noreferrer"},V={href:"https://reactjs.org/docs/introducing-jsx.html",target:"_blank",rel:"noopener noreferrer"},W=e(`<div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;/api/form&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;first&quot;</span><span class="token operator">&gt;</span>First Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;last&quot;</span><span class="token operator">&gt;</span>Last Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>Here&#39;s what changed:</p><ul><li>The<code>for</code>attribute is changed to<code>htmlFor</code>. (Since<code>for</code>is a keyword associated with the &quot;for&quot; loop in JavaScript, React elements use<code>htmlFor</code>instead.)- The<code>action</code>attribute now has a relative URL which is the form API endpoint.</li></ul><p>This completes the basic structure of your Next.js-based form.</p>`,4),U={href:"https://github.com/vercel/next.js/tree/canary/examples/next-forms",target:"_blank",rel:"noopener noreferrer"},E=n("code",null,"/styles/global.css",-1),B=e(`<h2 id="part-5-form-submission-without-javascript" tabindex="-1"><a class="header-anchor" href="#part-5-form-submission-without-javascript" aria-hidden="true">#</a> Part 5: Form Submission without JavaScript</h2><p>JavaScript brings interactivity to our web applications, but sometimes you need to control the JavaScript bundle from being too large, or your sites visitors might have JavaScript disabled.</p><p>There are several reasons why users disable JavaScript:</p><ul><li>Addressing bandwidth constraints- Increasing device (phone or laptop) battery life- For privacy so they won’t be tracked with analytical scripts</li></ul><p>Regardless of the reason, disabling JavaScript will impact site functionality partially, if not completely.</p><p>Next open the<code>next-forms</code>directory. Inside the<code>/pages</code>directory, create a file<code>no-js-form.js</code>.</p><blockquote><p><strong>Quick Tip</strong>: In Next.js, a page is a React Component exported from a<code>.js</code>,<code>.jsx</code>,<code>.ts</code>, or<code>.tsx</code>file in the pages directory. Each page is associated with a route based on its file name.Example: If you create<code>pages/no-js-form.js</code>, it will be accessible at<code>your-domain.tld/no-js-form</code>.</p></blockquote><p>Let&#39;s use the same code from above:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">PageWithoutJSbasedForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;/api/form&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;first&quot;</span><span class="token operator">&gt;</span>First Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;last&quot;</span><span class="token operator">&gt;</span>Last Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>With JavaScript disabled, when you hit the Submit button, an event is triggered, which collects the form data and sends it to our forms API endpoint as defined in the<code>action</code>attribute and using<code>POST</code>HTTP<code>method</code>. You&#39;ll be redirected to the<code>/api/form</code>endpoint since that&#39;s how form<code>action</code>works.</p><p>The form data will be submitted on the server as a request<code>req</code>to the form handler function written above. It will process the data and return a JSON string as a response<code>res</code>with your submitted name included.</p><blockquote><p>To improve the experience here, as a response you can redirect the user to a page and thank them for submitting the form.</p></blockquote><h2 id="part-6-form-submission-with-javascript-enabled" tabindex="-1"><a class="header-anchor" href="#part-6-form-submission-with-javascript-enabled" aria-hidden="true">#</a> Part 6: Form Submission with JavaScript Enabled</h2><p>Inside<code>/pages</code>, you&#39;ll create another file called<code>js-form.js</code>. This will create a<code>/js-form</code>page on your Next.js app.</p><p>Now, as soon as the form is submitted, we prevent the form&#39;s default behavior of reloading the page. We&#39;ll take the form data, convert it to JSON string, and send it to our server, the API endpoint. Finally, our server will respond with the name submitted. All of this with a basic JavaScript<code>handleSubmit()</code>function.</p><p>Here&#39;s what this function looks like. It&#39;s well documented for you to understand each step:</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">PageWithJSbasedForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Handles the submit event on form submit.</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Stop the form from submitting and refreshing the page.</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Get data from the form.</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">first</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>first<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      <span class="token literal-property property">last</span><span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>last<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Send the data to the server in JSON format.</span>
    <span class="token keyword">const</span> JSONdata <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

    <span class="token comment">// API endpoint where we send form data.</span>
    <span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">&#39;/api/form&#39;</span>

    <span class="token comment">// Form the request for sending data to the server.</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// The method is POST because we are sending data.</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// Tell the server we&#39;re sending JSON.</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// Body of the request is the JSON data we created above.</span>
      <span class="token literal-property property">body</span><span class="token operator">:</span> JSONdata<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Send the form data to our forms API on Vercel and get a response.</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> options<span class="token punctuation">)</span>

    <span class="token comment">// Get the response data from server as JSON.</span>
    <span class="token comment">// If server returns the name submitted, that means the form works.</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Is this your full name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>result<span class="token punctuation">.</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token comment">// We pass the event to the handleSubmit() function on submit.</span>
    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;first&quot;</span><span class="token operator">&gt;</span>First Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;first&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;last&quot;</span><span class="token operator">&gt;</span>Last Name<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;last&quot;</span> required <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>It&#39;s a Next.js page with a React function component called<code>PageWithJSbasedForm</code>with a<code>&lt;form&gt;</code>element written in JSX. There&#39;s no action on the<code>&lt;form&gt;</code>element. Instead, we use the<code>onSubmit</code>event handler to send data to our<code>{handleSubmit}</code>function.</p><p>The<code>handleSubmit()</code>function processes your form data through a series of steps:</p><ul><li>The<code>event.preventDefault()</code>stops the<code>&lt;form&gt;</code>element from refreshing the entire page.- We created a JavaScript object called<code>data</code>with the<code>first</code>and<code>last</code>values from the form.- JSON is a language-agnostic data transfer format. So we use<code>JSON.stringify(data)</code>to convert the data to JSON.- We then use<code>fetch()</code>to send the data to our<code>/api/form</code>endpoint using JSON and HTTP<code>POST</code>method.- Server sends back a response with the name submitted. Woohoo! 🥳</li></ul><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h2><p>This guide has covered the following:</p><ul><li>The basic HTML<code>form</code>element- Understanding forms with React.js- Validating forms data with and without JavaScript- Using Next.js API Routes to handle<code>req</code>and<code>res</code>from the client and server</li></ul><p>For more details go through<a href="/learn/basics/create-nextjs-app">Next.js Learn Course</a>.</p>`,24);function C(Y,z){const s=p("ExternalLinkIcon");return c(),l("div",null,[u,n("ul",null,[n("li",null,[i,a(": An attribute that specifies where the form data is sent when the form is submitted. It's generally a URL (an absolute URL or a relative URL).- "),k,a(": Specifies the"),n("a",d,[a("HTTP method"),t(s)]),a(", i.e.,"),m,a("or"),h,a("used to send data while submitting the form.- "),g,a(": An element that defines the label for other form elements. Labels aid accessibility, especially for screen readers.- "),f,a(": The form element that is widely used to structure the form fields. It depends significantly on the value of the"),b,a("attribute. Input types can be"),q,a(","),v,a(","),y,a(","),w,a(", and more.- "),x,a(": Represents a clickable button that's used to submit the form data.")])]),S,n("p",null,[a("The HTML"),n("a",_,[a("script"),t(s)]),a("tag is used to embed any client-side JavaScript. It can either contain inline scripting statements (as shown in the example above) or point to an external script file via the"),j,a("attribute. This example validates the name and roll number of a user. The"),T,a("function does not allow an empty name field, and the roll number must be at least three digits long. The validation is performed when you hit the Submit button. You are not redirected to the next page until the given values are correct.")]),N,n("blockquote",null,[n("p",null,[a("To learn more about HTML forms, check out the"),n("a",F,[a("MDN Web Docs"),t(s)]),a(".")])]),J,n("p",null,[a("Answer the questions to create your project, and give it a name, this example uses"),n("a",P,[L,t(s)]),a(". Next"),I,a("into this directory, and run"),R,a("or"),H,a("command to start the development server.")]),A,n("p",null,[a("You have created a Next.js API Route for form submission. Now it's time to configure the client (the form itself) inside Next.js using React. The first step will be extending your knowledge of HTML forms and converting it into React (using"),n("a",O,[a("JSX"),t(s)]),a(").")]),n("p",null,[a("Here's the same form in a"),n("a",M,[a("React function component"),t(s)]),a("written using"),n("a",V,[a("JSX"),t(s)]),a(".")]),W,n("blockquote",null,[n("p",null,[a("You can view the entire source code of"),n("a",U,[a("next-forms"),t(s)]),a("example repo that we're creating here as a working example. Feel free to clone it and start right away. This demo is built with create-next-app, and you can preview the basic form CSS styles inside"),E,a("file.")])]),B])}const D=o(r,[["render",C],["__file","building-forms.html.vue"]]);export{D as default};
